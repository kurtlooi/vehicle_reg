<div class="vehicle-table">
  <!-- Filter Input -->
  <mat-form-field appearance="outline" class="filter-field">
    <mat-label>Filter vehicles</mat-label>
    <input matInput (input)="applyFilter($any($event.target).value)">
  </mat-form-field>

  <table mat-table [dataSource]="dataSource" class="vehicle-table">
    <!-- Define each column here based on the `displayedColumns` array -->
    <ng-container *ngFor="let column of columns" [matColumnDef]="column.key">
      <th mat-header-cell *matHeaderCellDef>{{ column.label }}</th>
      <td mat-cell *matCellDef="let vehicle" [attr.data-status]="vehicle.status" (click)="onVehicleSelect(vehicle)">
        {{ vehicle[column.key] }}
      </td>
    </ng-container>
  
    <!-- Header and Row Definitions -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      *matRowDef="let vehicle; columns: displayedColumns"
      [class.registered]="vehicle.status === 'REGISTERED'"
      [class.deregistered]="vehicle.status === 'DEREGISTERED'"
    ></tr>
  </table>
  <!-- Pagination -->
  <mat-paginator [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 25, 50]" showFirstLastButtons></mat-paginator>
</div>
